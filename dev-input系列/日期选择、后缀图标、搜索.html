<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
    <meta name="Author" content="阮家友"/>
    <meta name="Keywords" content="HTML,model,test"/>
    <meta name="Description" content="special effect model"/>
    <meta name="time" content="2015-9-27 10:41:48"/>
    <meta name="renderer" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
	<title>test</title>
    <link rel="stylesheet" href="css/reset.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <script src="js/jquery-1.7.min.js"></script>
    <script src="../js/core.input.number.js"></script>
    <script src="../js/core.input.holder.js"></script>
    <script src="js/My97DatePicker/WdatePicker.js"></script>
    <style>
        #center {width: 300px; margin: 0 auto; }
    </style>
</head>
<body>
    <div id="center">
        <p>1.后缀图标部分</p>
        <div class="input_box">
            <input name="time" placeholder="选择时间" onclick="WdatePicker();"/>
            <label class="icon-time" for="time"></label>
        </div>
        <div class="input_box">
            <input name="search" id="search" placeholder="请输入"/>
            <label class="icon-search" for="search"></label>
        </div>
        <div class="input_box">
            <input name="close" id="close" placeholder="请输入"/>
            <label class="icon-close" for="close"></label>
        </div>
        <xmp>
        <div class="input_box">
            <input name="time" placeholder="选择时间" onclick="WdatePicker();"/>
            <label class="icon-time" for="time"></label>
        </div>
        </xmp>
        <span>2.搜索框和按钮</span>
        <div class="search_box">
            <input name="txtSearchStr" id="txtSearchStr" placeholder="请输入商品名称" type="text">
            <label id="btnSearch">搜索</label>
        </div>
        <xmp>
        1.input有placeholder 即可
        2.文档加载完后调用：Placeholder.init();
        *js会将input用div包裹一层一定要注意样式
        </xmp>
    </div>
<script>

//placeholder
Placeholder.init();
//关闭后缀图标
;(function(){
    var oinput = document.getElementById("close");
    var olabel = oinput.parentNode.getElementsByTagName("label")[0];
    if(oinput.value!="") olabel.style.visibility = "visible";
    oinput.oninput = function(){
        if(this.value=="") olabel.style.visibility = "hidden";
        else olabel.style.visibility = "visible";
    }
    oinput.onpropertychange = function(event){
        if (event.propertyName.toLowerCase () == "value") {
            if(this.value=="") olabel.style.visibility = "hidden";
            else olabel.style.visibility = "visible";
        }
    }
    olabel.onclick = function(){
        oinput.value='';
        this.style.visibility = "hidden";
    }
})();
//搜索框
document.getElementById("txtSearchStr").onkeyup = function (e) {
    e = e || window.event;
    if (e.keyCode == 13 && this.value.replace(/^\s+/,"").replace(/\s+$/,"") != "")
        //window.location.href = "product-list.aspx?searchStr=" + this.value;
        console.log("product-list.aspx?searchStr=" + this.value);
};
document.getElementById("btnSearch").onclick = function () {
    var oinput = this.parentNode.getElementsByTagName("input")[0];
    if (oinput.value.replace(/^\s+/,"").replace(/\s+$/,"") != "") {
        //window.location.href = "product-list.aspx?searchStr=" + oinput.value;
        console.log("product-list.aspx?searchStr=" + oinput.value);
    }
};
</script>
</body>
</html>
